"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[610],{4610:function(t,e,s){s.r(e),s.d(e,{default:function(){return I}});var n=s(8683),r=s(5671),i=s(3144),o=s(136),u=s(5716),a=s(2791),l={img:"Profile_img__WUova",profilePic:"Profile_profilePic__DpaT4",about:"Profile_about__rnebS"},c=s(4475),d=s(5395),f=s(885),p=s(184),h=function(t){var e=(0,a.useState)(!1),s=(0,f.Z)(e,2),n=s[0],r=s[1],i=(0,a.useState)(t.status),o=(0,f.Z)(i,2),u=o[0],l=o[1];(0,a.useEffect)((function(){return l(t.status)}),[t.status]);return(0,p.jsx)("div",{children:n?(0,p.jsx)("div",{children:(0,p.jsx)("input",{value:u,onBlur:function(){r(!1),t.updateUserStatus(u)},onChange:function(t){return l(t.currentTarget.value)},autoFocus:!0})}):(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){return r(!0)},children:u||"No status"})})})},x=function(t){return t.profile.photos?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{className:l.img,src:"https://cdn.freelance.ru/img/portfolio/pics/00/38/39/3684699.jpg?mt=60e595fd"})}),(0,p.jsxs)("div",{className:l.profile,children:[(0,p.jsx)("img",{className:l.profilePic,src:t.profile.photos?t.profile.photos.small:c}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("span",{children:t.profile.fullName})}),(0,p.jsx)(h,{status:t.status,updateUserStatus:t.updateUserStatus}),(0,p.jsx)("div",{children:(0,p.jsx)("span",{children:t.profile.aboutMe})})]}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:["Contacts",(0,p.jsxs)("ul",{children:[(0,p.jsxs)("li",{children:["FaceBook: ",t.profile.contacts.facebook]}),(0,p.jsxs)("li",{children:["WebSite: ",t.profile.contacts.website]}),(0,p.jsxs)("li",{children:["VK: ",t.profile.contacts.vk]}),(0,p.jsxs)("li",{children:["YT: ",t.profile.contacts.youtube]}),(0,p.jsxs)("li",{children:["Github: ",t.profile.contacts.github]})]})]})]})]}):(0,p.jsx)(d.p,{})},j="MyPosts_postsBlock__r9ezx",m="MyPosts_posts__aQjKO",v={item:"Post_item__XLHQL"},b=function(t){return(0,p.jsx)("div",{className:v.posts,children:(0,p.jsxs)("div",{className:v.item,children:[(0,p.jsx)("img",{src:""}),t.message,"  ",(0,p.jsx)("button",{onClick:function(){t.deletePost(t.id)},children:"x"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{children:"Like"})," ",t.likesCount]})]})})},g=s(6139),_=s(704),y=s(4193),Z=s(3569),P=(0,y.D)(10),S=(0,_.Z)({form:"post"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(g.Z,{name:"postText",component:Z.K,placeholder:"new post here",validate:[P,y.C]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"add post"})})]})})),k=s(364),C=s(4132),U=(0,k.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t((0,C.q2)(e))},deletePost:function(e){t((0,C.fR)(e))}}}))((function(t){console.log("myposts rendered");var e=t.posts.map((function(e){return(0,p.jsx)(b,{id:e.id,message:e.message,likesCount:e.likesCount,deletePost:t.deletePost},e.id)}));return(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsxs)("div",{children:[(0,p.jsx)(S,{onSubmit:function(e){return t.addPost(e.postText)}}),(0,p.jsx)("div",{className:m,children:e})]})]})})),N=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(x,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),(0,p.jsx)(U,{})]})},w=s(9271),D=s(2932),A=s(7781),T=function(t){(0,o.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=""+this.props.autorizedUserID)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,p.jsx)(N,(0,n.Z)((0,n.Z)({},this.props.profile),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),s}(a.Component),I=(0,A.qC)((0,k.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,autorizedUserID:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:C.et,getUserStatus:C.Tq,updateUserStatus:C.OL}),w.EN,D.D)(T)},3569:function(t,e,s){s.d(e,{I:function(){return d},K:function(){return c}});var n=s(8683),r=s(5987),i=(s(2791),"FormsControls_formControl__0XrZx"),o="FormsControls_error__nXs4F",u=s(184),a=["input","meta"],l=function(t){t.input;var e=t.meta,s=e.touched,n=e.error,l=((0,r.Z)(t,a),s&&n);return(0,u.jsxs)("div",{className:"".concat(i," ").concat(l?o:""),children:[(0,u.jsx)("div",{children:t.children}),l&&(0,u.jsx)("span",{children:n})]})},c=function(t){return(0,u.jsx)(l,(0,n.Z)((0,n.Z)({},t),{},{children:(0,u.jsx)("textarea",(0,n.Z)((0,n.Z)({},t.input),t))}))},d=function(t){return(0,u.jsx)(l,(0,n.Z)((0,n.Z)({},t),{},{children:(0,u.jsx)("input",(0,n.Z)((0,n.Z)({},t.input),t))}))}},2932:function(t,e,s){s.d(e,{D:function(){return c}});var n=s(8683),r=s(5987),i=s(9271),o=(s(2791),s(364)),u=s(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};function c(t){return(0,o.$j)(l)((function(e){var s=e.isAuth,o=(0,r.Z)(e,a);return s?(0,u.jsx)(t,(0,n.Z)({},o)):(0,u.jsx)(i.l_,{to:"/login"})}))}},4193:function(t,e,s){s.d(e,{C:function(){return n},D:function(){return r}});var n=function(t){if(!t)return"field is required"},r=function(t){return function(e){return e&&e.length>t?"Max length is ".concat(t," symbols"):void 0}}},4475:function(t,e,s){t.exports=s.p+"static/media/profile-anonymous2.848e97ad3397ed417ac3.png"},885:function(t,e,s){s.d(e,{Z:function(){return r}});var n=s(181);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var n,r,i=[],o=!0,u=!1;try{for(s=s.call(t);!(o=(n=s.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(a){u=!0,r=a}finally{try{o||null==s.return||s.return()}finally{if(u)throw r}}return i}}(t,e)||(0,n.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=610.3d68f38d.chunk.js.map